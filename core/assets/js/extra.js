function queryString(e){var s=0;$("button.accordion-button").each(function(){var a=$(this),o=$(this).data("value"),r=($(this).data("cities")+", "+o).replace("[","").replace("]","").replaceAll("'","").split(",");$.each(r,function(r,t){if(1==t.indexOf(e)||o==e){s+=1,a.parents(".listt.col-lg-4.col-md-12.mb-2").removeClass("invisible"),a.parents(".accordion-item").children(".accordion-collapse.collapse").addClass("show");a.parents(".accordion-item");var n=$("span.city.fs-6");return $.each(n,function(s,a){var o=$(this).text().toLowerCase(),r=$(this);0==o.indexOf(e)?r.removeClass("fs-6").addClass("bg-warning fs-3 rounded px-2 py-1 text-light"):r.removeClass("fs-3 bg-warning rounded px-2 py-1 text-light").addClass("fs-6")}),!1}a.parents(".listt.col-lg-4.col-md-12.mb-2").addClass("invisible"),a.parents(".accordion-item").children(".accordion-collapse.collapse.show").removeClass("show")})}),s<1&&(htmlStr='<div>По запросу "'+e+'" ничего не найдено</div>',$("#search_result").html(htmlStr).css("display","block"))}function cleanCities(){$("button.accordion-button").each(function(){var e=$("span.city.fs-3.bg-warning.rounded.px-2.py-1.text-light");$.each(e,function(e,s){$(this).removeClass("fs-3 bg-warning rounded px-2 py-1 text-light").addClass("fs-6")})})}function backCities(){$("button.accordion-button").each(function(){var e=$(this);e.parents(".col-lg-4.col-md-12.mb-2.invisible").removeClass("invisible"),e.parents(".accordion-item").children(".accordion-collapse.collapse.show").removeClass("show"),$("#search_result").css("display","none");var s=$("span.city.fs-3.bg-warning.rounded.px-2.py-1.text-light");$.each(s,function(e,s){$(this).removeClass("fs-3 bg-warning rounded px-2 py-1 text-light").addClass("fs-6")})})}function validateForm(){$("#message_form").css("display","none "),$("#spinner").removeClass("invisible d-none").addClass("d-flex"),$("#success_send").addClass("invisible");var e=$("#name_c").val(),s=$("#email_c").val(),a=$("#telephone_c").val(),o=$("#subject_c").val(),r=$("#comments_c").val();return $("#error-msg").css("opacity","0"),$("#error-msg").html(""),""==e||null==e?($("#error-msg").html("<div class='text-danger alert alert-warning error_message'>* поле 'имя' обязательно *</div>"),$("#error-msg").css("opacity","1"),!1):""==s||null==s?($("#error-msg").html("<div class='alert alert-warning error_message'>* поле 'электронный адрес' обязательно *</div>"),$("#error-msg").css("opacity","1"),!1):""==a||null==a?($("#error-msg").html("<div class='alert alert-warning error_message'>* поле 'телефон' обязательно *</div>"),$("#error-msg").css("opacity","1"),!1):""==o||null==o?($("#error-msg").html("<div class='alert alert-warning error_message'>* поле 'тема' обязательно *</div>"),$("#error-msg").css("opacity","1"),!1):""==r||null==r?($("#error-msg").html("<div class='alert alert-warning error_message'>* поле 'сообщение' обязательно *</div>"),$("#error-msg").css("opacity","1"),!1):void $.ajax({url:"/contact",type:"post",dataType:"json",timeout:6e3,data:$("form#message_form").serialize(),success:function(e){console.log("you did it!"),1==e.message?($("#message_form").css("display","none"),$("#spinner").addClass("d-none"),$("#success_send").removeClass("invisible"),setTimeout(function(){$("#success_send").addClass("invisible"),$("#message_form").css("display","block "),$("#name_c").val(""),$("#email_c").val(""),$("#subject_c").val(""),$("#comments_c").val(""),$("#contactform").modal("hide")},2e3)):alert(e)}})}function validateCandidateForm(){$("#headhunter_form").css("display","none "),$("#hh_spinner").removeClass("invisible d-none").addClass("d-flex"),$("#hh_success_send").addClass("invisible");var e=$("#name").val(),s=$("#email").val(),a=$("#telephone").val(),o=$("#city").val(),r=$("#position").val();return console.log("var ++++"),console.log(e),console.log(s),console.log(a),console.log(o),console.log(r),console.log("var end +++++"),$("#error-msg-hh").css("opacity","0"),$("#error-msg-hh").html(""),""==e||null==e?($("#error-msg-hh").html("<div class='text-danger alert alert-warning error_message'>* поле 'имя' обязательно *</div>"),$("#error-msg-hh").css("opacity","1"),!1):""==s||null==s?($("#error-msg-hh").html("<div class='alert alert-warning error_message'>* поле 'электронный адрес' обязательно *</div>"),$("#error-msg-hh").css("opacity","1"),!1):""==a||null==a?($("#error-msg-hh").html("<div class='alert alert-warning error_message'>* поле 'телефон' обязательно *</div>"),$("#error-msg-hh").css("opacity","1"),!1):""==o||null==o?($("#error-msg-hh").html("<div class='alert alert-warning error_message'>* поле 'город' обязательно *</div>"),$("#error-msg-hh").css("opacity","1"),!1):""==r||null==r?($("#error-msg-hh").html("<div class='alert alert-warning error_message'>* поле 'вакансия' обязательно *</div>"),$("#error-msg-hh").css("opacity","1"),!1):(console.log("before ajax"),void $.ajax({url:"/candidate",type:"post",dataType:"json",timeout:6e3,data:$("form#headhunter_form").serialize(),success:function(e){console.log("you sent hh"),1==e.message?($("#headhunter_form").css("display","none "),$("#hh_spinner").addClass("d-none"),$("#hh_success_send").removeClass("invisible"),setTimeout(function(){$("#hh_success_send").addClass("invisible"),$("#headhunter_form").css("display","block "),$("#name").val(""),$("#email").val(""),$("#position").val(""),$("#city").val(""),$("#age").val(""),$("#sex").val(""),$("#height").val(""),$("#weight").val(""),$("#clothes_size").val(""),$("#shoes_size").val(""),$("#experience").val(""),$("#preferences").val(""),$("#hh_form").modal("hide")},3e3)):alert("error")},error:function(e,s){0===e.status?alert("Not connect. Verify Network."):404==e.status?alert("Requested page not found (404)."):500==e.status?alert("Internal Server Error (500)."):"parsererror"===s?alert("Requested JSON parse failed."):"timeout"===s?alert("Time out error."):"abort"===s?alert("Ajax request aborted."):alert("Uncaught Error. "+e.responseText)}}))}$(document).ready(function(){$("#search").on("change",function(){cleanCities();var e=$(this).val().toLowerCase().trim();""!=e?queryString(e):backCities()})}),$(document).ready(function(){$("#clean_city").on("click",function(){backCities(),$("#search").val("")})}),$(document).ready(function(){var e=$("#kz_cities").hide(),s=$("#ru_big_cities").show(),a=$("#ru_all_cities").hide();$("#ru_big_cities_btn").addClass("btn-warning  p-1 rounded"),$("#ru_all_cities_btn").removeClass("btn-warning   p-1 rounded"),$("#kz_cities_btn").removeClass("btn-warning  p-1 rounded"),$("#kz_cities_btn").on("click",function(){e.show("slow"),$("#kz_cities_btn").addClass("btn-warning  p-1 rounded"),$("#ru_all_cities_btn").removeClass("btn-warning  p-1 rounded"),$("#ru_big_cities_btn").removeClass("btn-warning  p-1 rounded"),s.hide("slow"),a.hide("slow")}),$("#ru_all_cities_btn").on("click",function(){$("#search").val(""),e.hide("slow"),s.hide("slow"),a.show("slow"),$("#ru_all_cities_btn").addClass("btn-warning  p-1 rounded"),$("#kz_cities_btn").removeClass("btn-warning  p-1 rounded"),$("#ru_big_cities_btn").removeClass("btn-warning  p-1 rounded")}),$("#ru_big_cities_btn").on("click",function(){e.hide("slow"),s.show("slow"),a.hide("slow"),$("#ru_big_cities_btn").addClass("btn-warning  p-1 rounded"),$("#ru_all_cities_btn").removeClass("btn-warning  p-1 rounded"),$("#kz_cities_btn").removeClass("btn-warning  p-1 rounded")})}),$("#message_form").on("submit",function(e){$("#error-msg").css("opacity","0"),validateForm(),e.preventDefault()}),$(document).ready(function(){$("#telephone_c").mask("+7 (999) 999-99-99"),$("#telephone").mask("+7 (999) 999-99-99")}),$("#copyPhoneBtn").on("click",function(){var e=$(this).val();navigator.clipboard.writeText(e).then(()=>{}).catch(e=>{}),$("#copyPhoneToast").show("slow"),setTimeout(()=>{$("#copyPhoneToast").hide("slow")},2e3)}),$("#copyPhoneBtnFooter").on("click",function(){var e=$(this).val();navigator.clipboard.writeText(e).then(()=>{}).catch(e=>{}),$("#copyPhoneToast").show("slow"),setTimeout(()=>{$("#copyPhoneToast").hide("slow")},2e3)}),copyMailBtnFooter,$("#copyMailBtn").on("click",function(){var e=$(this).val();navigator.clipboard.writeText(e).then(()=>{}).catch(e=>{}),$("#copyMailToast").show("slow"),setTimeout(()=>{$("#copyMailToast").hide("slow")},2e3)}),$("#copyMailBtnFooter").on("click",function(){var e=$(this).val();navigator.clipboard.writeText(e).then(()=>{}).catch(e=>{}),$("#copyMailToast").show("slow"),setTimeout(()=>{$("#copyMailToast").hide("slow")},2e3)}),$("#headhunter_form").on("submit",function(e){$("#error-msg-hh").css("opacity","0"),console.log("before"),validateCandidateForm(),console.log("after"),e.preventDefault()}),$(".navbar-collapse").on("click",function(){return $(".navbar-collapse").collapse("hide"),$a=$($(this).attr("href")),$("html,body").animate({scrollTop:$a.offset().top-50},500),!1});